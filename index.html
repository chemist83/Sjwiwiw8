<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Molecular Wiki - Full & Scientific</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            background-color: #ffffff; 
            padding: 40px; 
            font-family: 'Courier New', Courier, monospace; 
        }

        /* Top Banner - Solid Black Border */
        .banner { 
            width: 600px; 
            height: 180px; 
            border: 4px solid black; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-size: 80px; 
            font-weight: bold;
            margin-bottom: 40px; 
        }

        /* Search Box - Solid Black Border */
        .search-container { 
            width: 550px; 
            height: 45px; 
            border: 3px solid black; 
            margin-bottom: 60px; 
            background: #fff;
        }
        .search-container input { 
            width: 100%; 
            height: 100%; 
            border: none; 
            text-align: center; 
            font-size: 22px; 
            font-weight: bold; 
            outline: none; 
        }

        /* Layout for each substance */
        .molecule-entry { 
            width: 550px; 
            margin-bottom: 80px; 
            display: flex; 
            flex-direction: column; 
        }

        .molecule-title { 
            font-weight: bold; 
            font-size: 24px; 
            margin-bottom: 10px; 
            text-transform: uppercase;
        }

        /* Knowledge Box - You can type your info here */
        .knowledge-box { 
            width: 380px; 
            min-height: 70px; 
            border: 3px solid black; 
            margin-bottom: 25px; 
            padding: 15px;
            font-size: 16px;
            background-color: white;
            line-height: 1.4;
        }

        /* 3D Viewer - Gray Background */
        .canvas-3d { 
            width: 500px; 
            height: 300px; 
            background-color: #808080; 
            border: 3px solid black; 
        }
    </style>
</head>
<body>

    <div class="banner">Banner</div>

    <div class="search-container">
        <input type="text" id="mol-search" placeholder="SEARCH BOX" onkeydown="if(event.key==='Enter') searchMolecule()">
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">HCL (Hydrochloric Acid)</div>
        <div class="knowledge-box">
            HCl is a strong corrosive acid. It consists of a polar covalent bond.
        </div>
        <div id="hcl-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">H2O (Water)</div>
        <div class="knowledge-box">
            The universal solvent. It has a bent molecular geometry due to lone pairs.
        </div>
        <div id="h2o-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">Glucose (C6H12O6)</div>
        <div class="knowledge-box">
            Primary energy source for cells. 24 atoms held by covalent bonds.
        </div>
        <div id="glucose-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">NaCl (Sodium Chloride)</div>
        <div class="knowledge-box">
            Ionic lattice. Ions are gathered together by electrostatic attraction without covalent "sticks".
        </div>
        <div id="nacl-box" class="canvas-3d"></div>
    </div>

    <script>
        // --- 3D ENGINE ---
        function renderMolecule(id, atoms, bonds, isIonic = false, zoom = 5) {
            const el = document.getElementById(id);
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(50, el.clientWidth/el.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(el.clientWidth, el.clientHeight);
            renderer.setClearColor(0x808080);
            el.appendChild(renderer.domElement);

            scene.add(new THREE.AmbientLight(0xffffff, 0.8));
            const light = new THREE.PointLight(0xffffff, 1);
            light.position.set(10, 10, 10);
            scene.add(light);

            // Draw Atoms
            atoms.forEach(a => {
                const sphere = new THREE.Mesh(
                    new THREE.SphereGeometry(a.s, 32, 32),
                    new THREE.MeshPhongMaterial({ color: a.c })
                );
                sphere.position.set(a.x, a.y, a.z);
                scene.add(sphere);
            });

            // Draw Bonds (Only if NOT ionic)
            if (!isIonic) {
                bonds.forEach(b => {
                    const start = new THREE.Vector3(atoms[b.f].x, atoms[b.f].y, atoms[b.f].z);
                    const end = new THREE.Vector3(atoms[b.t].x, atoms[b.t].y, atoms[b.t].z);
                    const dist = start.distanceTo(end);
                    const cyl = new THREE.Mesh(
                        new THREE.CylinderGeometry(0.08, 0.08, dist, 16),
                        new THREE.MeshPhongMaterial({ color: 0xffffff })
                    );
                    cyl.position.copy(start.clone().lerp(end, 0.5));
                    cyl.quaternion.setFromUnitVectors(new THREE.Vector3(0, 1, 0), end.clone().sub(start).normalize());
                    scene.add(cyl);
                });
            }

            camera.position.z = zoom;
            function anim() { requestAnimationFrame(anim); scene.rotation.y += 0.01; renderer.render(scene, camera); }
            anim();
        }

        // --- SUBSTANCE DATA ---

        // 1. HCl
        renderMolecule('hcl-box', [{c:0xff0000, s:0.7, x:-0.6, y:0, z:0}, {c:0x00ff00, s:0.4, x:0.6, y:0, z:0}], [{f:0, t:1}]);

        // 2. H2O
        renderMolecule('h2o-box', [{c:0x00ff00, s:0.6, x:0, y:0.3, z:0}, {c:0x0000ff, s:0.4, x:-0.6, y:-0.4, z:0}, {c:0x0000ff, s:0.4, x:0.6, y:-0.4, z:0}], [{f:0, t:1}, {f:0, t:2}]);

        // 3. Glucose (Full 24 Atom Model)
        const gA = [
            // 6 Carbons
            {c:0x333333,s:0.5,x:1,y:0,z:0},{c:0x333333,s:0.5,x:0.5,y:0.8,z:0.5},{c:0x333333,s:0.5,x:-0.5,y:0.8,z:0.5},{c:0x333333,s:0.5,x:-1,y:0,z:0},{c:0x333333,s:0.5,x:-0.5,y:-0.8,z:-0.5},{c:0x333333,s:0.5,x:0.5,y:-0.8,z:-0.5},
            // 6 Oxygens
            {c:0xff0000,s:0.4,x:1.8,y:0,z:0},{c:0xff0000,s:0.4,x:1,y:1.5,z:1},{c:0xff0000,s:0.4,x:-1,y:1.5,z:1},{c:0xff0000,s:0.4,x:-1.8,y:0,z:0},{c:0xff0000,s:0.4,x:-1,y:-1.5,z:-1},{c:0xff0000,s:0.4,x:1,y:-1.5,z:-1},
            // 12 Hydrogens
            {c:0xeeeeee,s:0.2,x:1,y:0.5,z:-0.5},{c:0xeeeeee,s:0.2,x:2.5,y:0.5,z:0},{c:0xeeeeee,s:0.2,x:0.5,y:1.2,z:-0.2},{c:0xeeeeee,s:0.2,x:1.5,y:2,z:1},{c:0xeeeeee,s:0.2,x:-0.5,y:1.2,z:-0.2},{c:0xeeeeee,s:0.2,x:-1.5,y:2,z:1},{c:0xeeeeee,s:0.2,x:-1,y:0.5,z:0.5},{c:0xeeeeee,s:0.2,x:-2.5,y:0.5,z:0},{c:0xeeeeee,s:0.2,x:-0.5,y:-1.2,z:0.2},{c:0xeeeeee,s:0.2,x:-1.5,y:-2,z:-1},{c:0xeeeeee,s:0.2,x:0.5,y:-1.2,z:0.2},{c:0xeeeeee,s:0.2,x:1.5,y:-2,z:-1}
        ];
        renderMolecule('glucose-box', gA, [{f:0,t:1},{f:1,t:2},{f:2,t:3},{f:3,t:4},{f:4,t:5},{f:5,t:0}], false, 8);

        // 4. NaCl (Ionic Lattice - Touching spheres, no sticks)
        const nA = [
            {c:0x8A2BE2, s:0.55, x:-0.55, y:0.55, z:0.55}, {c:0x00ff00, s:0.55, x:0.55, y:0.55, z:0.55}, 
            {c:0x00ff00, s:0.55, x:-0.55, y:-0.55, z:0.55}, {c:0x8A2BE2, s:0.55, x:0.55, y:-0.55, z:0.55},
            {c:0x00ff00, s:0.55, x:-0.55, y:0.55, z:-0.55}, {c:0x8A2BE2, s:0.55, x:0.55, y:0.55, z:-0.55},
            {c:0x8A2BE2, s:0.55, x:-0.55, y:-0.55, z:-0.55},{c:0x00ff00, s:0.55, x:0.55, y:-0.55, z:-0.55}
        ];
        renderMolecule('nacl-box', nA, [], true, 5);

        function searchMolecule() {
            alert("Search for: " + document.getElementById('mol-search').value);
        }
    </script>
</body>
</html>
