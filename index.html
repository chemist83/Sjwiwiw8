<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chemistry Wiki - 3D Bonds</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: white;
            padding: 20px;
            font-family: 'Courier New', Courier, monospace;
        }

        /* Banner from your sketch */
        .banner {
            width: 550px;
            height: 180px;
            border: 4px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 80px;
            margin-bottom: 30px;
        }

        /* Search Box from your sketch */
        .search-box {
            width: 550px;
            height: 35px;
            border: 3px solid black;
            text-align: center;
            font-weight: bold;
            font-size: 24px;
            margin-bottom: 30px;
        }

        .molecule-section {
            width: 550px;
            margin-bottom: 40px;
        }

        .label { font-weight: bold; margin-bottom: 5px; }

        /* Knowledge box from your sketch */
        .knowledge-box {
            width: 300px;
            height: 50px;
            border: 3px solid black;
            display: flex;
            align-items: center;
            padding-left: 15px;
            font-size: 28px;
            margin-bottom: 15px;
        }

        /* The 3D viewer (Gray box) */
        .viewer-3d {
            width: 420px;
            height: 200px;
            background-color: #808080;
            border: 3px solid black;
        }
    </style>
</head>
<body>

    <div class="banner">Banner</div>
    <div class="search-box">SEARCH BOX</div>

    <div class="molecule-section">
        <div class="label">HCL (Hydrochloric Acid)</div>
        <div class="knowledge-box">Knowledge</div>
        <div id="hcl-container" class="viewer-3d"></div>
    </div>

    <div class="molecule-section">
        <div class="label">H20 (Water)</div>
        <div class="knowledge-box) ">Knowledge</div>
        <div id="h2o-container" class="viewer-3d"></div>
    </div>

    <script>
        function initScene(containerId, atoms, bonds) {
            const container = document.getElementById(containerId);
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setClearColor(0x808080);
            container.appendChild(renderer.domElement);

            const light = new THREE.PointLight(0xffffff, 1, 100);
            light.position.set(10, 10, 10);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0xffffff, 0.5));

            // Create Spheres (Atoms)
            atoms.forEach(a => {
                const geom = new THREE.SphereGeometry(a.size, 32, 32);
                const mat = new THREE.MeshPhongMaterial({ color: a.color });
                const sphere = new THREE.Mesh(geom, mat);
                sphere.position.set(a.x, a.y, a.z);
                scene.add(sphere);
            });

            // Create Cylinders (Bonds)
            bonds.forEach(b => {
                const start = new THREE.Vector3(atoms[b.from].x, atoms[b.from].y, atoms[b.from].z);
                const end = new THREE.Vector3(atoms[b.to].x, atoms[b.to].y, atoms[b.to].z);
                const distance = start.distanceTo(end);
                
                const cylinderGeom = new THREE.CylinderGeometry(0.1, 0.1, distance, 16);
                const cylinderMat = new THREE.MeshPhongMaterial({ color: 0xffffff }); // White bonds
                const cylinder = new THREE.Mesh(cylinderGeom, cylinderMat);

                // Position and Rotate the cylinder to connect the two spheres
                const midpoint = new THREE.Vector3().addVectors(start, end).multiplyScalar(0.5);
                cylinder.position.copy(midpoint);
                cylinder.quaternion.setFromUnitVectors(new THREE.Vector3(0, 1, 0), end.clone().sub(start).normalize());
                
                scene.add(cylinder);
            });

            camera.position.z = 5;
            function animate() {
                requestAnimationFrame(animate);
                scene.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            animate();
        }

        // Setup HCl (Red Cl, Green H)
        initScene('hcl-container', 
            [{color: 0xff0000, size: 0.7, x: -0.8, y: 0, z: 0}, {color: 0x00ff00, size: 0.5, x: 0.8, y: 0, z: 0}], 
            [{from: 0, to: 1}]
        );

        // Setup H2O (Green O, Blue H)
        initScene('h2o-container', 
            [
                {color: 0x00ff00, size: 0.6, x: 0, y: 0.4, z: 0},    // Oxygen
                {color: 0x0000ff, size: 0.4, x: -0.8, y: -0.4, z: 0}, // Hydrogen
                {color: 0x0000ff, size: 0.4, x: 0.8, y: -0.4, z: 0}   // Hydrogen
            ], 
            [{from: 0, to: 1}, {from: 0, to: 2}]
        );
    </script>
</body>
</html>
